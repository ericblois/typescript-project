{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ericblois/Development/React Native/typescript-project/app/CustomerMainPages/SearchPage.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { SearchBar } from \"react-native-elements\";\nimport { styleValues, defaults } from \"../HelperFiles/StyleSheet\";\nimport { SearchResults } from \"../HelperFiles/CompIndex\";\nimport { getQueryTerms } from \"../HelperFiles/Constants\";\nimport ServerData from \"../HelperFiles/ServerData\";\n\nvar SearchPage = function (_Component) {\n  _inherits(SearchPage, _Component);\n\n  var _super = _createSuper(SearchPage);\n\n  function SearchPage() {\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      searchText: \"\",\n      businessResults: []\n    };\n\n    _this.onSubmit = function (event) {\n      try {\n        var search = event.nativeEvent.text;\n        ServerData.queryBusinesses(getQueryTerms(search)).then(function (results) {\n          _this.setState({\n            businessResults: results\n          });\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: defaults.pageContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, React.createElement(SearchResults, {\n        navigation: this.props.navigation,\n        businesses: this.state.businessResults,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }), React.createElement(SearchBar, {\n        containerStyle: styles.searchBar,\n        inputStyle: styles.searchBarInput,\n        inputContainerStyle: styles.searchBarInputContainer,\n        placeholder: \"Search...\",\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            searchText: text\n          });\n        },\n        onEndEditing: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, this.state.searchText));\n    }\n  }]);\n\n  return SearchPage;\n}(Component);\n\nexport { SearchPage as default };\nvar styles = StyleSheet.create({\n  searchBar: {\n    backgroundColor: \"#fff\",\n    borderBottomColor: styleValues.bordColor,\n    borderBottomWidth: styleValues.minorBorderWidth,\n    borderColor: styleValues.bordColor,\n    borderRadius: styleValues.bordRadius,\n    borderTopColor: styleValues.bordColor,\n    borderTopWidth: styleValues.minorBorderWidth,\n    borderWidth: styleValues.minorBorderWidth,\n    height: styleValues.winWidth * 0.125,\n    width: styleValues.winWidth * 0.95,\n    position: \"absolute\",\n    top: styleValues.mediumPadding,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  searchBarInput: {\n    backgroundColor: \"#fff\"\n  },\n  searchBarInputContainer: {\n    backgroundColor: \"#fff\",\n    height: \"100%\"\n  }\n});","map":{"version":3,"sources":["/Users/ericblois/Development/React Native/typescript-project/app/CustomerMainPages/SearchPage.tsx"],"names":["React","Component","SearchBar","styleValues","defaults","SearchResults","getQueryTerms","ServerData","SearchPage","state","searchText","businessResults","onSubmit","event","search","nativeEvent","text","queryBusinesses","then","results","setState","e","console","error","pageContainer","props","navigation","styles","searchBar","searchBarInput","searchBarInputContainer","StyleSheet","create","backgroundColor","borderBottomColor","bordColor","borderBottomWidth","minorBorderWidth","borderColor","borderRadius","bordRadius","borderTopColor","borderTopWidth","borderWidth","height","winWidth","width","position","top","mediumPadding","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { View, StyleSheet, NativeSyntheticEvent, TextInputSubmitEditingEventData, } from \"react-native\";\nimport PropTypes from 'prop-types';\nimport { SearchBar, } from \"react-native-elements\";\nimport { styleValues, defaults } from \"../HelperFiles/StyleSheet\";\nimport { SearchResults } from \"../HelperFiles/CompIndex\";\nimport { firestore, getQueryTerms, PrivateBusinessData } from \"../HelperFiles/Constants\";\nimport ServerData from \"../HelperFiles/ServerData\";\nimport { BottomTabNavigationProp } from '@react-navigation/bottom-tabs';\nimport { CustomerMainTabParamList } from \"../HelperFiles/Navigation\";\nimport { RouteProp } from '@react-navigation/native';\n\ntype SearchNavigationProp = BottomTabNavigationProp<CustomerMainTabParamList, \"search\">;\n\ntype SearchRouteProp = RouteProp<CustomerMainTabParamList, \"search\">;\n\ntype Props = {\n    navigation: SearchNavigationProp,\n    route: SearchRouteProp,\n}\n\ntype State = {\n  searchText: string,\n  businessResults: PrivateBusinessData[],\n}\n\nexport default class SearchPage extends Component<Props, State> {\n\n  state: Readonly<State> = {\n    searchText: \"\",\n    businessResults: []\n  }\n\n  onSubmit = (event: NativeSyntheticEvent<TextInputSubmitEditingEventData>) => {\n    try {\n      const search = event.nativeEvent.text;\n      ServerData.queryBusinesses(getQueryTerms(search)).then((results) => {\n        this.setState({businessResults: results})\n      })\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  render() {\n    return (\n        <View style={defaults.pageContainer}>\n        <SearchResults navigation={this.props.navigation} businesses={this.state.businessResults}/>\n        <SearchBar\n          containerStyle={styles.searchBar}\n          inputStyle={styles.searchBarInput}\n          inputContainerStyle={styles.searchBarInputContainer}\n          placeholder={\"Search...\"}\n          onChangeText={(text) => this.setState({searchText: text})}\n          onEndEditing={this.onSubmit}\n          //onSubmitEditing={this.onSubmit}\n        >\n          {this.state.searchText}\n        </SearchBar>\n        </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  searchBar: {\n    backgroundColor: \"#fff\",\n    borderBottomColor: styleValues.bordColor,\n    borderBottomWidth: styleValues.minorBorderWidth,\n    borderColor: styleValues.bordColor,\n    borderRadius: styleValues.bordRadius,\n    borderTopColor: styleValues.bordColor,\n    borderTopWidth: styleValues.minorBorderWidth,\n    borderWidth: styleValues.minorBorderWidth,\n    height: styleValues.winWidth * 0.125,\n    width: styleValues.winWidth * 0.95,\n    position: \"absolute\",\n    top: styleValues.mediumPadding,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  searchBarInput: {\n    backgroundColor: \"#fff\",\n  },\n  searchBarInputContainer: {\n    backgroundColor: \"#fff\",\n    height: \"100%\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}