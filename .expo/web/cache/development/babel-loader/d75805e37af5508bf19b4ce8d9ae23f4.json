{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ericblois/Development/React Native/typescript-project/app/BusinessShopPages/BusinessInfoPage.tsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport PropTypes from 'prop-types';\nimport { styleValues } from \"../HelperFiles/StyleSheet\";\nimport { PhotoSlider, RatingVisual } from \"../HelperFiles/CompIndex\";\nimport { businessPropType, formatText, prefetchImages } from \"../HelperFiles/Constants\";\nimport BusinessDataHandler from \"../HelperFiles/BusinessDataHandler\";\n\nvar BusinessInfoPage = function (_Component) {\n  _inherits(BusinessInfoPage, _Component);\n\n  var _super = _createSuper(BusinessInfoPage);\n\n  function BusinessInfoPage(props) {\n    var _this;\n\n    _classCallCheck(this, BusinessInfoPage);\n\n    _this = _super.call(this, props);\n\n    _this.galleryResponse = function () {\n      _this.setState({\n        galleryReady: true\n      });\n    };\n\n    _this.state = {\n      imagesFetched: false,\n      galleryReady: false\n    };\n    BusinessDataHandler.getBusinessInfo(_this.props.businessData).catch(function (e) {\n      return console.error(e);\n    });\n    return _this;\n  }\n\n  _createClass(BusinessInfoPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      prefetchImages(this.props.businessData.info.galleryImages).then(function () {\n        _this2.setState({\n          imagesFetched: true\n        });\n      });\n    }\n  }, {\n    key: \"displayLoadingScreen\",\n    value: function displayLoadingScreen() {\n      if (this.props.businessData.info.galleryImages.length != 0 && !(this.state.imagesFetched && this.state.galleryReady)) {\n        return React.createElement(ActivityIndicator, {\n          style: styles.loadingScreen,\n          size: \"large\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ScrollView, {\n        contentContainerStyle: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, React.createElement(PhotoSlider, {\n        imgURLs: this.props.businessData.info.galleryImages,\n        loadResponse: this.galleryResponse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: styles.descriptionHeader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.businessTitle,\n        numberOfLines: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }, this.props.businessData.info.name), React.createElement(Text, {\n        style: styles.businessType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, this.props.businessData.info.businessType), React.createElement(View, {\n        style: styles.subHeader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.businessLocation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }, this.props.businessData.info.city + \", \" + this.props.businessData.info.region), React.createElement(RatingVisual, {\n        rating: this.props.businessData.info.totalRating,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }\n      }))), React.createElement(View, {\n        style: styles.descriptionBody,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, formatText(this.props.businessData.info.description))), this.displayLoadingScreen());\n    }\n  }]);\n\n  return BusinessInfoPage;\n}(Component);\n\nBusinessInfoPage.propTypes = {\n  navigation: PropTypes.object,\n  route: PropTypes.object,\n  businessData: businessPropType.isRequired\n};\nexport { BusinessInfoPage as default };\nvar styles = StyleSheet.create({\n  container: {\n    paddingBottom: styleValues.winWidth / 4,\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    backgroundColor: \"#fff\"\n  },\n  loadingScreen: {\n    position: \"absolute\",\n    top: 0,\n    backgroundColor: \"#fff\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  descriptionHeader: {\n    width: styleValues.winWidth - styleValues.mediumPadding * 2,\n    alignItems: \"flex-start\",\n    padding: styleValues.minorPadding,\n    paddingBottom: styleValues.mediumPadding,\n    marginBottom: styleValues.mediumPadding,\n    borderBottomWidth: styleValues.minorBorderWidth,\n    borderColor: styleValues.bordColor\n  },\n  subHeader: {\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  descriptionBody: {\n    width: styleValues.winWidth - styleValues.mediumPadding * 2,\n    alignItems: \"flex-start\",\n    padding: styleValues.minorPadding\n  },\n  businessTitle: {\n    fontSize: styleValues.largestTextSize,\n    color: styleValues.majorTextColor\n  },\n  businessType: {\n    fontSize: styleValues.mediumTextSize,\n    color: styleValues.minorTextColor,\n    marginBottom: styleValues.minorPadding\n  },\n  businessLocation: {\n    fontSize: styleValues.smallTextSize,\n    color: styleValues.minorTextColor\n  },\n  description: {\n    fontSize: styleValues.smallTextSize\n  }\n});","map":{"version":3,"sources":["/Users/ericblois/Development/React Native/typescript-project/app/BusinessShopPages/BusinessInfoPage.tsx"],"names":["React","Component","PropTypes","styleValues","PhotoSlider","RatingVisual","businessPropType","formatText","prefetchImages","BusinessDataHandler","BusinessInfoPage","props","galleryResponse","setState","galleryReady","state","imagesFetched","getBusinessInfo","businessData","catch","e","console","error","info","galleryImages","then","length","styles","loadingScreen","container","descriptionHeader","businessTitle","name","businessType","subHeader","businessLocation","city","region","totalRating","descriptionBody","description","displayLoadingScreen","propTypes","navigation","object","route","isRequired","StyleSheet","create","paddingBottom","winWidth","justifyContent","alignItems","backgroundColor","position","top","width","height","mediumPadding","padding","minorPadding","marginBottom","borderBottomWidth","minorBorderWidth","borderColor","bordColor","flexDirection","fontSize","largestTextSize","color","majorTextColor","mediumTextSize","minorTextColor","smallTextSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { View, Text, StyleSheet, ActivityIndicator, ScrollView } from \"react-native\";\nimport PropTypes from 'prop-types';\nimport { styleValues } from \"../HelperFiles/StyleSheet\";\nimport { PhotoSlider, RatingVisual } from \"../HelperFiles/CompIndex\";\nimport { businessPropType, formatText, prefetchImages } from \"../HelperFiles/Constants\";\nimport { PrivateBusinessData } from \"../HelperFiles/DataTypes\"\nimport { BottomTabNavigationProp } from '@react-navigation/bottom-tabs';\nimport { BusinessShopTabParamList } from \"../HelperFiles/Navigation\";\nimport { RouteProp } from '@react-navigation/native';\nimport BusinessDataHandler from \"../HelperFiles/BusinessDataHandler\";\n\ntype BusinessInfoNavigationProp = BottomTabNavigationProp<BusinessShopTabParamList, \"info\">;\n\ntype BusinessInfoRouteProp = RouteProp<BusinessShopTabParamList, \"info\">;\n\ntype Props = {\n    navigation: BusinessInfoNavigationProp,\n    route: BusinessInfoRouteProp,\n    businessData: PrivateBusinessData\n}\n\ntype State = {\n    imagesFetched: boolean,\n    galleryReady: boolean\n}\n\nexport default class BusinessInfoPage extends Component<Props, State> {\n\n    galleryResponse = () => {\n        this.setState({galleryReady: true});\n    }\n\n    state: Readonly<State> = {\n        imagesFetched: false,\n        galleryReady: false,\n    }\n\n    static propTypes = {\n        navigation: PropTypes.object,\n        route: PropTypes.object,\n        businessData: businessPropType.isRequired\n    }\n\n    constructor(props: Props) {\n        super(props)\n        BusinessDataHandler.getBusinessInfo(this.props.businessData).catch((e) => console.error(e));\n    }\n\n    componentDidMount() {\n        prefetchImages(this.props.businessData.info!.galleryImages).then(() => {\n            this.setState({imagesFetched: true});\n        })\n    }\n\n    displayLoadingScreen() {\n        if (this.props.businessData.info!.galleryImages.length != 0 && !(this.state.imagesFetched && this.state.galleryReady)) {\n            return (\n                <ActivityIndicator style={styles.loadingScreen} size={\"large\"}/>\n            );\n        }\n        return <></>\n    }\n\n    render() {\n        return (\n            <ScrollView contentContainerStyle={styles.container}>\n                <PhotoSlider imgURLs={this.props.businessData.info!.galleryImages} loadResponse={this.galleryResponse}/>\n                <View style={styles.descriptionHeader}>\n                    <Text style={styles.businessTitle} numberOfLines={2}>{this.props.businessData.info!.name}</Text>\n                    <Text style={styles.businessType}>{this.props.businessData.info!.businessType}</Text>\n                    <View style={styles.subHeader}>\n                        <Text style={styles.businessLocation}>{this.props.businessData.info!.city + \", \" + this.props.businessData.info!.region}</Text>\n                        <RatingVisual rating={this.props.businessData.info!.totalRating}/>\n                    </View>\n                </View>\n                <View style={styles.descriptionBody}>\n                    <Text style={styles.description}>{formatText(this.props.businessData.info!.description)}</Text>\n                </View>\n                {this.displayLoadingScreen()}\n            </ScrollView>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        paddingBottom: styleValues.winWidth/4,\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        backgroundColor: \"#fff\"\n    },\n    loadingScreen: {\n        position: \"absolute\",\n        top: 0,\n        backgroundColor: \"#fff\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    descriptionHeader: {\n        width: styleValues.winWidth - styleValues.mediumPadding*2,\n        alignItems: \"flex-start\",\n        padding: styleValues.minorPadding,\n        paddingBottom: styleValues.mediumPadding,\n        marginBottom: styleValues.mediumPadding,\n        borderBottomWidth: styleValues.minorBorderWidth,\n        borderColor: styleValues.bordColor\n    },\n    subHeader: {\n        width: \"100%\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    },\n    descriptionBody: {\n        width: styleValues.winWidth - styleValues.mediumPadding*2,\n        alignItems: \"flex-start\",\n        padding: styleValues.minorPadding\n    },\n    businessTitle: {\n        fontSize: styleValues.largestTextSize,\n        color: styleValues.majorTextColor,\n    },\n    businessType: {\n        fontSize: styleValues.mediumTextSize,\n        color: styleValues.minorTextColor,\n        marginBottom: styleValues.minorPadding,\n    },\n    businessLocation: {\n        fontSize: styleValues.smallTextSize,\n        color: styleValues.minorTextColor,\n    },\n    description: {\n        fontSize: styleValues.smallTextSize,\n    }\n});\n"]},"metadata":{},"sourceType":"module"}